<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Graphical comparison of mixing plans based on cumulative distribution of expected total CFUs in the mixing process. — compare_mixing_3 • mixingsimulation</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Graphical comparison of mixing plans based on cumulative distribution of expected total CFUs in the mixing process. — compare_mixing_3"><meta property="og:description" content="This function provides a graphical display to compare mixing plans based on the cumulative distribution of expected total CFUs in the mixing process using different mixing parameters, such as type of distribution and number of primary samples."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mixingsimulation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Mayooran1987/mixingsimulation/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Graphical comparison of mixing plans based on cumulative distribution of expected total CFUs in the mixing process.</h1>
    <small class="dont-index">Source: <a href="https://github.com/Mayooran1987/mixingsimulation/blob/HEAD/R/compare_mixing_3.R" class="external-link"><code>R/compare_mixing_3.R</code></a></small>
    <div class="hidden name"><code>compare_mixing_3.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function provides a graphical display to compare mixing plans based on the cumulative distribution of expected total CFUs in the mixing process using different mixing parameters, such as type of distribution and number of primary samples.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">compare_mixing_3</span><span class="op">(</span><span class="va">mu</span>, <span class="va">sigma</span>, <span class="va">alpha_in</span>, <span class="va">k</span>, <span class="va">l</span>, <span class="va">r</span>, <span class="va">distribution</span>, <span class="va">n_sim</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>mu</dt>
<dd><p>the average number of CFUs (\(\mu\)) in the mixed sample, which is in a logarithmic scale if we use a Lognormal / Poisson lognormal distribution</p></dd>
<dt>sigma</dt>
<dd><p>the standard deviation of the colony-forming units in the mixed sample on the logarithmic scale (default value 0.8)</p></dd>
<dt>alpha_in</dt>
<dd><p>concentration parameter at the initial stage</p></dd>
<dt>k</dt>
<dd><p>number of small portions / primary samples</p></dd>
<dt>l</dt>
<dd><p>number of revolutions / stages</p></dd>
<dt>r</dt>
<dd><p>the rate of the concentration parameter changes at each mixing stage</p></dd>
<dt>distribution</dt>
<dd><p>what suitable distribution type we have employed for simulation such as <code>"Poisson-Type A"</code> or <code>"Poisson-Type B"</code> or <code>"Lognormal-Type A"</code> or <code>"Lognormal-Type B"</code> or <code>"Poisson lognormal-Type A"</code> or <code>"Poisson lognormal-Type B"</code></p></dd>
<dt>n_sim</dt>
<dd><p>number of simulations</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Graphical comparison between different mixing schemes.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
	<style>
div {
  text-align: justify;
  text-justify: inter-word;
}
</style>
	
    <p>Let \(N'\) be the number of CFUs in the mixed sample, which is produced by the mixing of \(k\) primary samples and \(N' = \sum N_i\)  and let \(N_i\) be the number of CFUs in the \(i^{th}\) primary sample;
where \(i = 1,2,....k\).For this package development, we have employed the notations 'Type-A' and 'Type-B' to indicate the type of distributions, which are applied in the previous literature as 'fair' and 'beta', respectively;
see <a href="https://doi.org/10.1016/j.ijfoodmicro.2004.10.027" class="external-link">Nauta (2005)</a>.Following <a href="https://doi.org/10.1016/j.ijfoodmicro.2004.10.027" class="external-link">Nauta (2005)</a>, the contribution weight of contamination by each primary sample can be defined by the random variable \(w_i\),
which is possible to be followed by either uniform distribution with parameter \(1/k\) or the joint distribution of \(w_1,w_2,\cdots w_k\) follows a Dirichlet distribution with concentration parameter \(\alpha\).
From the previous literature, a Dirichlet distribution can be formulated by beta or gamma algorithms, which have revealed the same results; see <a href="https://doi.org/10.1016/j.ijfoodmicro.2004.10.027" class="external-link">Nauta (2005)</a>.This function is developed based on the beta algorithm and the following steps formulate it.
$$w_i = x_i {\prod_{j=1}^{i-1}{1-x_j}}~~~~ \forall i = 2,3,\cdots k,~~~~~ w_1=x_1$$;where \(x_i\) follows \(Beta (\alpha,\alpha(k-i))\) and also \(\sum w_i\) must be equal to one.
</p><ul><li><p>Case 1 (Poisson-Type A): \(N_i\) follows \(Poisson(\mu/k)\)</p></li>
<li><p>Case 2 (Poisson-Type B): \(N_i\) follows \(Poisson(\mu w_i)\)</p></li>
<li><p>Case 3 (Lognormal-Type A): \(N_i\) follows \(Binomial(M_i,1/k)\); where  \(M_i\) follows \(Lognormal(\mu, \sigma)\)</p></li>
<li><p>Case 4 (Lognormal-Type B): \(N_i\)  follows \(Binomial(M_i,w_i)\); where  \(M_i\) follows \(Lognormal(\mu, \sigma)\)</p></li>
<li><p>Case 5 (Poisson lognormal-Type A): \(N_i\) follows \(Binomial(M_i,1/k)\); where  \(M_i\)</p>
<p>follows \(Poisson lognormal (\mu, \sigma)\)</p></li>
<li><p>Case 6 (Poisson lognormal-Type B): \(N_i\)  follows \(Binomial(M_i,w_i)\); where  \(M_i\)</p>
<p>follows \(Poisson lognormal(\mu, \sigma)\)</p></li>
</ul><p>The powder-mixing process can be defined as breaking clusters stage-by-stage. Usually, it occurs systematically in the standard powder mixtures. For this package development, we assume that mixing parameters also systematically change with a fixed rate at each stage of the mixing.
The mixing parameter can be defined as revolutions instead of the mixing stage in general. Due to the lack of theoretical results for the dependent random variable sum's distribution, we have chosen simulation techniques for this modelling.</p>
<p>Let \(l\) be the number of stages or revolutions of the mixture, and we also assumed a fixed concentration parameter value at the initial phase of the mixing process. Based on the literature in this area, the concentration parameter can be assumed to increase at every stage of the mixing, which is possible to do systematically.</p>
<p>Therefore, this function exhibits the graphical display with different quantities of primary sample mixing as a large unit.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    
<ul><li><p>Nauta, M.J., 2005. Microbiological risk assessment models for partitioning and mixing during food handling. International Journal of Food Microbiology 100, <a href="https://doi.org/10.1016/j.ijfoodmicro.2004.10.027" class="external-link">311-322</a>.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="sim_single.html">sim_single</a>, <a href="sim_single_stages.html">sim_single_stages</a>, <a href="sim_multiple_stages.html">sim_multiple_stages</a></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">mu</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span class="r-in"><span class="va">sigma</span> <span class="op">&lt;-</span> <span class="fl">0.8</span></span>
<span class="r-in"><span class="va">alpha_in</span> <span class="op">&lt;-</span> <span class="fl">0.01</span></span>
<span class="r-in"><span class="va">k</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">30</span>,<span class="fl">60</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r</span> <span class="op">&lt;-</span> <span class="fl">0.01</span></span>
<span class="r-in"><span class="va">distribution</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Poisson lognormal-Type B"</span>,<span class="st">"Poisson lognormal-Type B"</span>,<span class="st">"Poisson lognormal-Type B"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">n_sim</span> <span class="op">&lt;-</span> <span class="fl">2000</span></span>
<span class="r-in"><span class="va">plot1</span> <span class="op">&lt;-</span> <span class="fu">compare_mixing_3</span><span class="op">(</span><span class="va">mu</span>, <span class="va">sigma</span>, <span class="va">alpha_in</span>, <span class="va">k</span> , l <span class="op">=</span> <span class="fl">200</span>,<span class="va">r</span>, <span class="va">distribution</span>,<span class="va">n_sim</span><span class="op">)</span> <span class="op">+</span></span>
<span class="r-in"><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.text <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7.5</span><span class="op">)</span>,</span>
<span class="r-in">legend.title <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7.5</span><span class="op">)</span>,</span>
<span class="r-in">legend.key.size <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">4</span>, <span class="st">'mm'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">plot2</span> <span class="op">&lt;-</span> <span class="fu">compare_mixing_3</span><span class="op">(</span><span class="va">mu</span>, <span class="va">sigma</span>, <span class="va">alpha_in</span>, <span class="va">k</span> , l <span class="op">=</span> <span class="fl">500</span>, <span class="va">r</span>, <span class="va">distribution</span>, <span class="va">n_sim</span><span class="op">)</span> <span class="op">+</span></span>
<span class="r-in"><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.title <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7.5</span><span class="op">)</span>,</span>
<span class="r-in">legend.key.size <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">4</span>, <span class="st">'mm'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">plot3</span> <span class="op">&lt;-</span> <span class="fu">compare_mixing_3</span><span class="op">(</span><span class="va">mu</span>, <span class="va">sigma</span>, <span class="va">alpha_in</span>, <span class="va">k</span>, l <span class="op">=</span> <span class="fl">5000</span>,<span class="va">r</span> , <span class="va">distribution</span>,<span class="va">n_sim</span><span class="op">)</span> <span class="op">+</span></span>
<span class="r-in"><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.text <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7.5</span><span class="op">)</span>,</span>
<span class="r-in">legend.title <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7.5</span><span class="op">)</span>,</span>
<span class="r-in">legend.key.size <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">4</span>, <span class="st">'mm'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">plot4</span> <span class="op">&lt;-</span> <span class="fu">compare_mixing_3</span><span class="op">(</span><span class="va">mu</span>, <span class="va">sigma</span> , <span class="va">alpha_in</span> , <span class="va">k</span> , l <span class="op">=</span> <span class="fl">25000</span>, <span class="va">r</span> , <span class="va">distribution</span> ,<span class="va">n_sim</span><span class="op">)</span> <span class="op">+</span></span>
<span class="r-in"><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.text <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7.5</span><span class="op">)</span>,</span>
<span class="r-in">legend.title <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7.5</span><span class="op">)</span>,</span>
<span class="r-in">legend.key.size <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">4</span>, <span class="st">'mm'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span><span class="va">plot1</span>, <span class="va">plot2</span>, <span class="va">plot3</span>, <span class="va">plot4</span>, ncol <span class="op">=</span> <span class="fl">2</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span class="r-plt img"><img src="compare_mixing_3-1.gif" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Mayooran Thevaraja, Kondaswamy Govindaraju, Mark Bebbington.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

